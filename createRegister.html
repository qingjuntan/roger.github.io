<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    #box {
      width: 200px;
      height: 200px;
      background-color: #f00;
    }
  </style>
</head>
<body>


<div id="box"></div>

<script>
  function createRegister() {
    if (document.addEventListener) {
      return function (ele, type, handler) {
        ele.addEventListener(type, handler);
      };
    } else if (document.attachEvent) {
      return function (ele, type, handler) {
        ele.attachEvent("on" + type, function () {
          handler.call(ele, window.event);
        });
      }
    } else {
      return function (ele, type, handler) {
        ele["on" + type] = handler;
      }
    }
  }
  var registerEvent = createRegister(),
      box = document.getElementById("box");
  registerEvent(box, "click", function (e) {
    console.log(e.clientX);
    box.style.backgroundColor = "#ff0";
  })
</script>
</body>
</html>